{"ast":null,"code":"/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n(function (define) {\n  'use strict';\n\n  define(function (require) {\n    var interceptor, UrlBuilder;\n    interceptor = require('../interceptor');\n    UrlBuilder = require('../UrlBuilder');\n\n    function startsWith(str, prefix) {\n      return str.indexOf(prefix) === 0;\n    }\n\n    function endsWith(str, suffix) {\n      return str.lastIndexOf(suffix) + suffix.length === str.length;\n    }\n    /**\n     * Prefixes the request path with a common value.\n     *\n     * @param {Client} [client] client to wrap\n     * @param {number} [config.prefix] path prefix\n     *\n     * @returns {Client}\n     */\n\n\n    return interceptor({\n      request: function request(_request, config) {\n        var path;\n\n        if (config.prefix && !new UrlBuilder(_request.path).isFullyQualified()) {\n          path = config.prefix;\n\n          if (_request.path) {\n            if (!endsWith(path, '/') && !startsWith(_request.path, '/')) {\n              // add missing '/' between path sections\n              path += '/';\n            }\n\n            path += _request.path;\n          }\n\n          _request.path = path;\n        }\n\n        return _request;\n      }\n    });\n  });\n})(typeof define === 'function' && define.amd ? define : function (factory) {\n  module.exports = factory(require);\n} // Boilerplate for AMD and Node\n);","map":{"version":3,"names":["define","require","interceptor","UrlBuilder","startsWith","str","prefix","indexOf","endsWith","suffix","lastIndexOf","length","request","config","path","isFullyQualified","amd","factory","module","exports"],"sources":["D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/rest/interceptor/pathPrefix.js"],"sourcesContent":["/*\n * Copyright 2012-2013 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n(function (define) {\n\t'use strict';\n\n\tdefine(function (require) {\n\n\t\tvar interceptor, UrlBuilder;\n\n\t\tinterceptor = require('../interceptor');\n\t\tUrlBuilder = require('../UrlBuilder');\n\n\t\tfunction startsWith(str, prefix) {\n\t\t\treturn str.indexOf(prefix) === 0;\n\t\t}\n\n\t\tfunction endsWith(str, suffix) {\n\t\t\treturn str.lastIndexOf(suffix) + suffix.length === str.length;\n\t\t}\n\n\t\t/**\n\t\t * Prefixes the request path with a common value.\n\t\t *\n\t\t * @param {Client} [client] client to wrap\n\t\t * @param {number} [config.prefix] path prefix\n\t\t *\n\t\t * @returns {Client}\n\t\t */\n\t\treturn interceptor({\n\t\t\trequest: function (request, config) {\n\t\t\t\tvar path;\n\n\t\t\t\tif (config.prefix && !(new UrlBuilder(request.path).isFullyQualified())) {\n\t\t\t\t\tpath = config.prefix;\n\t\t\t\t\tif (request.path) {\n\t\t\t\t\t\tif (!endsWith(path, '/') && !startsWith(request.path, '/')) {\n\t\t\t\t\t\t\t// add missing '/' between path sections\n\t\t\t\t\t\t\tpath += '/';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpath += request.path;\n\t\t\t\t\t}\n\t\t\t\t\trequest.path = path;\n\t\t\t\t}\n\n\t\t\t\treturn request;\n\t\t\t}\n\t\t});\n\n\t});\n\n}(\n\ttypeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); }\n\t// Boilerplate for AMD and Node\n));\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEC,WAAUA,MAAV,EAAkB;EAClB;;EAEAA,MAAM,CAAC,UAAUC,OAAV,EAAmB;IAEzB,IAAIC,WAAJ,EAAiBC,UAAjB;IAEAD,WAAW,GAAGD,OAAO,CAAC,gBAAD,CAArB;IACAE,UAAU,GAAGF,OAAO,CAAC,eAAD,CAApB;;IAEA,SAASG,UAAT,CAAoBC,GAApB,EAAyBC,MAAzB,EAAiC;MAChC,OAAOD,GAAG,CAACE,OAAJ,CAAYD,MAAZ,MAAwB,CAA/B;IACA;;IAED,SAASE,QAAT,CAAkBH,GAAlB,EAAuBI,MAAvB,EAA+B;MAC9B,OAAOJ,GAAG,CAACK,WAAJ,CAAgBD,MAAhB,IAA0BA,MAAM,CAACE,MAAjC,KAA4CN,GAAG,CAACM,MAAvD;IACA;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;IACE,OAAOT,WAAW,CAAC;MAClBU,OAAO,EAAE,iBAAUA,QAAV,EAAmBC,MAAnB,EAA2B;QACnC,IAAIC,IAAJ;;QAEA,IAAID,MAAM,CAACP,MAAP,IAAiB,CAAE,IAAIH,UAAJ,CAAeS,QAAO,CAACE,IAAvB,EAA6BC,gBAA7B,EAAvB,EAAyE;UACxED,IAAI,GAAGD,MAAM,CAACP,MAAd;;UACA,IAAIM,QAAO,CAACE,IAAZ,EAAkB;YACjB,IAAI,CAACN,QAAQ,CAACM,IAAD,EAAO,GAAP,CAAT,IAAwB,CAACV,UAAU,CAACQ,QAAO,CAACE,IAAT,EAAe,GAAf,CAAvC,EAA4D;cAC3D;cACAA,IAAI,IAAI,GAAR;YACA;;YACDA,IAAI,IAAIF,QAAO,CAACE,IAAhB;UACA;;UACDF,QAAO,CAACE,IAAR,GAAeA,IAAf;QACA;;QAED,OAAOF,QAAP;MACA;IAjBiB,CAAD,CAAlB;EAoBA,CA3CK,CAAN;AA6CA,CAhDA,EAiDA,OAAOZ,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACgB,GAAvC,GAA6ChB,MAA7C,GAAsD,UAAUiB,OAAV,EAAmB;EAAEC,MAAM,CAACC,OAAP,GAAiBF,OAAO,CAAChB,OAAD,CAAxB;AAAoC,CAjD/G,CAkDA;AAlDA,CAAD"},"metadata":{},"sourceType":"script"}