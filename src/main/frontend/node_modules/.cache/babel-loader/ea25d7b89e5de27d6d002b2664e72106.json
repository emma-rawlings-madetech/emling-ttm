{"ast":null,"code":"/*\n * Copyright 2012-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n'use strict';\n\nvar interceptor, UrlBuilder;\ninterceptor = require('../interceptor');\nUrlBuilder = require('../UrlBuilder');\n\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n}\n\nfunction endsWith(str, suffix) {\n  return str.lastIndexOf(suffix) + suffix.length === str.length;\n}\n/**\n * Prefixes the request path with a common value.\n *\n * @param {Client} [client] client to wrap\n * @param {number} [config.prefix] path prefix\n *\n * @returns {Client}\n */\n\n\nmodule.exports = interceptor({\n  request: function request(_request, config) {\n    var path;\n\n    if (config.prefix && !new UrlBuilder(_request.path).isFullyQualified()) {\n      path = config.prefix;\n\n      if (_request.path) {\n        if (!endsWith(path, '/') && !startsWith(_request.path, '/')) {\n          // add missing '/' between path sections\n          path += '/';\n        }\n\n        path += _request.path;\n      }\n\n      _request.path = path;\n    }\n\n    return _request;\n  }\n});","map":{"version":3,"names":["interceptor","UrlBuilder","require","startsWith","str","prefix","indexOf","endsWith","suffix","lastIndexOf","length","module","exports","request","config","path","isFullyQualified"],"sources":["D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/rest/interceptor/pathPrefix.js"],"sourcesContent":["/*\n * Copyright 2012-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n'use strict';\n\nvar interceptor, UrlBuilder;\n\ninterceptor = require('../interceptor');\nUrlBuilder = require('../UrlBuilder');\n\nfunction startsWith(str, prefix) {\n\treturn str.indexOf(prefix) === 0;\n}\n\nfunction endsWith(str, suffix) {\n\treturn str.lastIndexOf(suffix) + suffix.length === str.length;\n}\n\n/**\n * Prefixes the request path with a common value.\n *\n * @param {Client} [client] client to wrap\n * @param {number} [config.prefix] path prefix\n *\n * @returns {Client}\n */\nmodule.exports = interceptor({\n\trequest: function (request, config) {\n\t\tvar path;\n\n\t\tif (config.prefix && !(new UrlBuilder(request.path).isFullyQualified())) {\n\t\t\tpath = config.prefix;\n\t\t\tif (request.path) {\n\t\t\t\tif (!endsWith(path, '/') && !startsWith(request.path, '/')) {\n\t\t\t\t\t// add missing '/' between path sections\n\t\t\t\t\tpath += '/';\n\t\t\t\t}\n\t\t\t\tpath += request.path;\n\t\t\t}\n\t\t\trequest.path = path;\n\t\t}\n\n\t\treturn request;\n\t}\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,WAAJ,EAAiBC,UAAjB;AAEAD,WAAW,GAAGE,OAAO,CAAC,gBAAD,CAArB;AACAD,UAAU,GAAGC,OAAO,CAAC,eAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,GAApB,EAAyBC,MAAzB,EAAiC;EAChC,OAAOD,GAAG,CAACE,OAAJ,CAAYD,MAAZ,MAAwB,CAA/B;AACA;;AAED,SAASE,QAAT,CAAkBH,GAAlB,EAAuBI,MAAvB,EAA+B;EAC9B,OAAOJ,GAAG,CAACK,WAAJ,CAAgBD,MAAhB,IAA0BA,MAAM,CAACE,MAAjC,KAA4CN,GAAG,CAACM,MAAvD;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiBZ,WAAW,CAAC;EAC5Ba,OAAO,EAAE,iBAAUA,QAAV,EAAmBC,MAAnB,EAA2B;IACnC,IAAIC,IAAJ;;IAEA,IAAID,MAAM,CAACT,MAAP,IAAiB,CAAE,IAAIJ,UAAJ,CAAeY,QAAO,CAACE,IAAvB,EAA6BC,gBAA7B,EAAvB,EAAyE;MACxED,IAAI,GAAGD,MAAM,CAACT,MAAd;;MACA,IAAIQ,QAAO,CAACE,IAAZ,EAAkB;QACjB,IAAI,CAACR,QAAQ,CAACQ,IAAD,EAAO,GAAP,CAAT,IAAwB,CAACZ,UAAU,CAACU,QAAO,CAACE,IAAT,EAAe,GAAf,CAAvC,EAA4D;UAC3D;UACAA,IAAI,IAAI,GAAR;QACA;;QACDA,IAAI,IAAIF,QAAO,CAACE,IAAhB;MACA;;MACDF,QAAO,CAACE,IAAR,GAAeA,IAAf;IACA;;IAED,OAAOF,QAAP;EACA;AAjB2B,CAAD,CAA5B"},"metadata":{},"sourceType":"script"}