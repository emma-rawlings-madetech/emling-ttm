{"ast":null,"code":"'use strict';import _classCallCheck from\"D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Chronicle/chronicle-ttm/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import React from'react';import ReactDOM from'react-dom';import when from'when';import client from'./client';import follow from'./follow';// function to hop multiple links by \"rel\"\nimport stompClient from'./websocket-listener';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var root='/api';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={tabletopSystems:[],attributes:[],page:1,pageSize:2,links:{}};_this.updatePageSize=_this.updatePageSize.bind(_assertThisInitialized(_this));_this.onCreate=_this.onCreate.bind(_assertThisInitialized(_this));_this.onUpdate=_this.onUpdate.bind(_assertThisInitialized(_this));_this.onDelete=_this.onDelete.bind(_assertThisInitialized(_this));_this.onNavigate=_this.onNavigate.bind(_assertThisInitialized(_this));_this.refreshCurrentPage=_this.refreshCurrentPage.bind(_assertThisInitialized(_this));_this.refreshAndGoToLastPage=_this.refreshAndGoToLastPage.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"loadFromServer\",value:function loadFromServer(pageSize){var _this2=this;follow(client,root,[{rel:'tabletopSystems',params:{size:pageSize}}]).then(function(tabletopSystemCollection){return client({method:'GET',path:tabletopSystemCollection.entity._links.profile.href,headers:{'Accept':'application/schema+json'}}).then(function(schema){_this2.schema=schema.entity;_this2.links=tabletopSystemCollection.entity._links;return tabletopSystemCollection;});}).then(function(tabletopSystemCollection){return tabletopSystemCollection.entity._embedded.tabletopSystems.map(function(tabletopSystem){return client({method:'GET',path:tabletopSystem._links.self.href});});}).then(function(tabletopSystemPromises){return when.all(tabletopSystemPromises);}).done(function(tabletopSystems){_this2.setState({tabletopSystems:tabletopSystems,attributes:Object.keys(_this2.schema.properties),pageSize:pageSize,links:_this2.links});});}},{key:\"onCreate\",value:function onCreate(newTabletopSystem){follow(client,root,['tabletopSystems']).then(function(tabletopSystemCollection){return client({method:'POST',path:tabletopSystemCollection.entity._links.self.href,entity:newTabletopSystem,headers:{'Content-Type':'application/json'}});});//    \t.then(response => {\n//    \t\treturn follow(client, root, [\n//    \t\t\t{rel: 'tabletopSystems', params: {'size': this.state.pageSize}}]);\n//    \t}).done(response => {\n//    \t\tif (typeof response.entity._links.last !== \"undefined\") {\n//    \t\t\tthis.onNavigate(response.entity._links.last.href);\n//    \t\t} else {\n//    \t\t\tthis.onNavigate(response.entity._links.self.href);\n//    \t\t}\n//    \t});\n}},{key:\"onUpdate\",value:function onUpdate(tabletopSystem,updatedTabletopSystem){client({method:'PUT',path:tabletopSystem.entity._links.self.href,entity:updatedTabletopSystem,headers:{'Content-Type':'application/json','If-Match':tabletopSystem.headers.Etag}}).done(function(response){/* Let the websocket handler update the state */ //    \t\tthis.loadFromServer(this.state.pageSize);\n},function(response){if(response.status.code===412){alert('DENIED: Unable to update '+tabletopSystem.entity._links.self.href+'. Your copy is stale.');}});}},{key:\"onDelete\",value:function onDelete(tabletopSystem){client({method:'DELETE',path:tabletopSystem.entity._links.self.href})/*.done(response => {\n\t\t\tthis.loadFromServer(this.state.pageSize);\n\t\t})*/;}},{key:\"onNavigate\",value:function onNavigate(navUri){var _this3=this;client({method:'GET',path:navUri}).then(function(tabletopSystemCollection){_this3.links=tabletopSystemCollection.entity._links;return tabletopSystemCollection.entity._embedded.tabletopSystems.map(function(tabletopSystem){return client({method:'GET',path:tabletopSystem._links.self.href});});}).then(function(tabletopSystemPromises){return when.all(tabletopSystemPromises);}).done(function(tabletopSystems){_this3.setState({tabletopSystems:tabletopSystems,attributes:Object.keys(_this3.schema.properties),pageSize:_this3.state.pageSize,links:_this3.links});});}},{key:\"updatePageSize\",value:function updatePageSize(pageSize){if(pageSize!==this.state.pageSize){this.loadFromServer(pageSize);}}},{key:\"refreshAndGoToLastPage\",value:function refreshAndGoToLastPage(message){var _this4=this;follow(client,root,[{rel:'tabletopSystems',params:{size:this.state.pageSize}}]).done(function(response){if(response.entity._links.last!==undefined){_this4.onNavigate(response.entity._links.last.href);}else{_this4.onNavigate(response.entity._links.self.href);}});}},{key:\"refreshCurrentPage\",value:function refreshCurrentPage(message){var _this5=this;follow(client,root,[{rel:'tabletopSystems',params:{size:this.state.pageSize,page:this.state.page.number}}]).then(function(tabletopSystemCollection){_this5.links=tabletopSystemCollection.entity._links;_this5.page=tabletopSystemCollection.entity.page;return tabletopSystemCollection.entity._embedded.tabletopSystems.map(function(tabletopSystem){return client({method:'GET',path:tabletopSystem._links.self.href});});}).then(function(tabletopSystemPromises){return when.all(tabletopSystemPromises);}).then(function(tabletopSystems){_this5.setState({page:_this5.page,tabletopSystems:tabletopSystems,attributes:Object.keys(_this5.schema.properties),pageSize:_this5.state.pageSize,links:_this5.links});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.loadFromServer(this.state.pageSize);stompClient.register([{route:'/topic/newTabletopSystem',callback:this.refreshAndGoToLastPage},{route:'/topic/updateTabletopSystem',callback:this.refreshCurrentPage},{route:'/topic/deleteTabletopSystem',callback:this.refreshCurrentPage}]);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(CreateDialog,{attributes:this.state.attributes,onCreate:this.onCreate}),/*#__PURE__*/_jsx(TabletopSystemList,{tabletopSystems:this.state.tabletopSystems,links:this.state.links,pageSize:this.state.pageSize,attributes:this.state.attributes,onNavigate:this.onNavigate,onUpdate:this.onUpdate,onDelete:this.onDelete,updatePageSize:this.updatePageSize})]})});}}]);return App;}(React.Component);export{App as default};var CreateDialog=/*#__PURE__*/function(_React$Component2){_inherits(CreateDialog,_React$Component2);var _super2=_createSuper(CreateDialog);function CreateDialog(props){var _this6;_classCallCheck(this,CreateDialog);_this6=_super2.call(this,props);_this6.handleSubmit=_this6.handleSubmit.bind(_assertThisInitialized(_this6));return _this6;}_createClass(CreateDialog,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this7=this;e.preventDefault();var newTabletopSystem={};this.props.attributes.forEach(function(attribute){newTabletopSystem[attribute]=ReactDOM.findDOMNode(_this7.refs[attribute]).value.trim();});this.props.onCreate(newTabletopSystem);// clear out the dialog's inputs\nthis.props.attributes.forEach(function(attribute){ReactDOM.findDOMNode(_this7.refs[attribute]).value='';});// Navigate away from the dialog to hide it.\nwindow.location=\"#\";}},{key:\"render\",value:function render(){var inputs=this.props.attributes.map(function(attribute){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:attribute,ref:attribute,className:\"field\"})},attribute);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#createTabletopSystem\",children:\"Create\"}),/*#__PURE__*/_jsx(\"div\",{id:\"createTabletopSystem\",className:\"modalDialog\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",title:\"Close\",className:\"close\",children:\"X\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create new tabletop system\"}),/*#__PURE__*/_jsxs(\"form\",{children:[inputs,/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,children:\"Create\"})]})]})})]});}}]);return CreateDialog;}(React.Component);var UpdateDialog=/*#__PURE__*/function(_React$Component3){_inherits(UpdateDialog,_React$Component3);var _super3=_createSuper(UpdateDialog);function UpdateDialog(props){var _this8;_classCallCheck(this,UpdateDialog);_this8=_super3.call(this,props);_this8.handleSubmit=_this8.handleSubmit.bind(_assertThisInitialized(_this8));return _this8;}_createClass(UpdateDialog,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this9=this;e.preventDefault();var updatedTabletopSystem={};this.props.attributes.forEach(function(attribute){updatedTabletopSystem[attribute]=ReactDOM.findDOMNode(_this9.refs[attribute]).value.trim();});this.props.onUpdate(this.props.tabletopSystem,updatedTabletopSystem);window.location=\"#\";}},{key:\"render\",value:function render(){var _this10=this;var inputs=this.props.attributes.map(function(attribute){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:attribute,defaultValue:_this10.props.tabletopSystem.entity[attribute],ref:attribute,className:\"field\"})},_this10.props.tabletopSystem.entity[attribute]);});var dialogId=\"updateTabletopSystem-\"+this.props.tabletopSystem.entity._links.self.href;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\"+dialogId,children:\"Update\"}),/*#__PURE__*/_jsx(\"div\",{id:dialogId,className:\"modalDialog\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",title:\"Close\",className:\"close\",children:\"X\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Update a tabletop system\"}),/*#__PURE__*/_jsxs(\"form\",{children:[inputs,/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,children:\"Update\"})]})]})})]},this.props.tabletopSystem.entity._links.self.href);}}]);return UpdateDialog;}(React.Component);;var TabletopSystemList=/*#__PURE__*/function(_React$Component4){_inherits(TabletopSystemList,_React$Component4);var _super4=_createSuper(TabletopSystemList);function TabletopSystemList(props){var _this11;_classCallCheck(this,TabletopSystemList);_this11=_super4.call(this,props);_this11.handleNavFirst=_this11.handleNavFirst.bind(_assertThisInitialized(_this11));_this11.handleNavPrev=_this11.handleNavPrev.bind(_assertThisInitialized(_this11));_this11.handleNavNext=_this11.handleNavNext.bind(_assertThisInitialized(_this11));_this11.handleNavLast=_this11.handleNavLast.bind(_assertThisInitialized(_this11));_this11.handleInput=_this11.handleInput.bind(_assertThisInitialized(_this11));return _this11;}_createClass(TabletopSystemList,[{key:\"handleInput\",value:function handleInput(e){e.preventDefault();var pageSize=ReactDOM.findDOMNode(this.refs.pageSize).value;if(/^[0-9]+$/.test(pageSize)){this.props.updatePageSize(pageSize);}else{ReactDOM.findDOMNode(this.refs.pageSize).value=pageSize.substring(0,pageSize.length-1);}}},{key:\"handleNavFirst\",value:function handleNavFirst(e){e.preventDefault();this.props.onNavigate(this.props.links.first.href);}},{key:\"handleNavPrev\",value:function handleNavPrev(e){e.preventDefault();this.props.onNavigate(this.props.links.prev.href);}},{key:\"handleNavNext\",value:function handleNavNext(e){e.preventDefault();this.props.onNavigate(this.props.links.next.href);}},{key:\"handleNavLast\",value:function handleNavLast(e){e.preventDefault();this.props.onNavigate(this.props.links.last.href);}},{key:\"render\",value:function render(){var _this12=this;//\t    const pageInfo = this.props.page.hasOwnProperty(\"number\") ?\n//        \t\t\t<h3>Tabletop Systems - Page {this.props.page.number + 1} of {this.props.page.totalPages}</h3> : null;\nvar tabletopSystems=this.props.tabletopSystems.map(function(tabletopSystem){return/*#__PURE__*/_jsx(TabletopSystem,{tabletopSystem:tabletopSystem,attributes:_this12.props.attributes,onUpdate:_this12.props.onUpdate,onDelete:_this12.props.onDelete},tabletopSystem.entity._links.self.href);});var navLinks=[];if(\"first\"in this.props.links){navLinks.push(/*#__PURE__*/_jsx(\"button\",{onClick:this.handleNavFirst,children:\"<<\"},\"first\"));}if(\"prev\"in this.props.links){navLinks.push(/*#__PURE__*/_jsx(\"button\",{onClick:this.handleNavPrev,children:\"<\"},\"prev\"));}if(\"next\"in this.props.links){navLinks.push(/*#__PURE__*/_jsx(\"button\",{onClick:this.handleNavNext,children:\">\"},\"next\"));}if(\"last\"in this.props.links){navLinks.push(/*#__PURE__*/_jsx(\"button\",{onClick:this.handleNavLast,children:\">>\"},\"last\"));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{ref:\"pageSize\",defaultValue:this.props.pageSize,onInput:this.handleInput}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{})]}),tabletopSystems]})}),/*#__PURE__*/_jsx(\"div\",{children:navLinks})]});}}]);return TabletopSystemList;}(React.Component);var TabletopSystem=/*#__PURE__*/function(_React$Component5){_inherits(TabletopSystem,_React$Component5);var _super5=_createSuper(TabletopSystem);function TabletopSystem(props){var _this13;_classCallCheck(this,TabletopSystem);_this13=_super5.call(this,props);_this13.handleDelete=_this13.handleDelete.bind(_assertThisInitialized(_this13));return _this13;}_createClass(TabletopSystem,[{key:\"handleDelete\",value:function handleDelete(){this.props.onDelete(this.props.tabletopSystem);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:this.props.tabletopSystem.entity.name}),/*#__PURE__*/_jsx(\"td\",{children:this.props.tabletopSystem.entity.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(UpdateDialog,{tabletopSystem:this.props.tabletopSystem,attributes:this.props.attributes,onUpdate:this.props.onUpdate})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleDelete,children:\"Delete\"})})]});}}]);return TabletopSystem;}(React.Component);","map":{"version":3,"names":["React","ReactDOM","when","client","follow","stompClient","root","App","props","state","tabletopSystems","attributes","page","pageSize","links","updatePageSize","bind","onCreate","onUpdate","onDelete","onNavigate","refreshCurrentPage","refreshAndGoToLastPage","rel","params","size","then","tabletopSystemCollection","method","path","entity","_links","profile","href","headers","schema","_embedded","map","tabletopSystem","self","tabletopSystemPromises","all","done","setState","Object","keys","properties","newTabletopSystem","updatedTabletopSystem","Etag","response","status","code","alert","navUri","loadFromServer","message","last","undefined","number","register","route","callback","Component","CreateDialog","handleSubmit","e","preventDefault","forEach","attribute","findDOMNode","refs","value","trim","window","location","inputs","UpdateDialog","dialogId","TabletopSystemList","handleNavFirst","handleNavPrev","handleNavNext","handleNavLast","handleInput","test","substring","length","first","prev","next","navLinks","push","TabletopSystem","handleDelete","name","description"],"sources":["D:/Chronicle/chronicle-ttm/src/main/frontend/src/App.js"],"sourcesContent":["'use strict';\n\nimport './App.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport when from 'when';\nimport client from './client';\nimport follow from './follow'; // function to hop multiple links by \"rel\"\nimport stompClient from './websocket-listener';\n\nconst root = '/api';\n\nexport default class App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {tabletopSystems: [], attributes: [], page: 1, pageSize: 2, links: {}};\n\t\tthis.updatePageSize = this.updatePageSize.bind(this);\n\t\tthis.onCreate = this.onCreate.bind(this);\n\t\tthis.onUpdate = this.onUpdate.bind(this);\n\t\tthis.onDelete = this.onDelete.bind(this);\n\t\tthis.onNavigate = this.onNavigate.bind(this);\n\t\tthis.refreshCurrentPage = this.refreshCurrentPage.bind(this);\n\t\tthis.refreshAndGoToLastPage = this.refreshAndGoToLastPage.bind(this);\n\t}\n\n\tloadFromServer(pageSize) {\n    \tfollow(client, root, [\n            {rel: 'tabletopSystems', params: {size: pageSize}}]\n        ).then(tabletopSystemCollection => {\n            return client({\n                method: 'GET',\n                path: tabletopSystemCollection.entity._links.profile.href,\n                headers: {'Accept': 'application/schema+json'}\n            }).then(schema => {\n                this.schema = schema.entity;\n                this.links = tabletopSystemCollection.entity._links;\n                return tabletopSystemCollection;\n            });\n        }).then(tabletopSystemCollection => {\n            return tabletopSystemCollection.entity._embedded.tabletopSystems.map(tabletopSystem =>\n                    client({\n                        method: 'GET',\n                        path: tabletopSystem._links.self.href\n                    })\n            );\n        }).then(tabletopSystemPromises => {\n            return when.all(tabletopSystemPromises);\n        }).done(tabletopSystems => {\n            this.setState({\n                tabletopSystems: tabletopSystems,\n                attributes: Object.keys(this.schema.properties),\n                pageSize: pageSize,\n                links: this.links\n            });\n        });\n    }\n\n    onCreate(newTabletopSystem) {\n    \tfollow(client, root, ['tabletopSystems']).then(tabletopSystemCollection => {\n    \t\treturn client({\n    \t\t\tmethod: 'POST',\n    \t\t\tpath: tabletopSystemCollection.entity._links.self.href,\n    \t\t\tentity: newTabletopSystem,\n    \t\t\theaders: {'Content-Type': 'application/json'}\n    \t\t})\n    \t})\n//    \t.then(response => {\n//    \t\treturn follow(client, root, [\n//    \t\t\t{rel: 'tabletopSystems', params: {'size': this.state.pageSize}}]);\n//    \t}).done(response => {\n//    \t\tif (typeof response.entity._links.last !== \"undefined\") {\n//    \t\t\tthis.onNavigate(response.entity._links.last.href);\n//    \t\t} else {\n//    \t\t\tthis.onNavigate(response.entity._links.self.href);\n//    \t\t}\n//    \t});\n    }\n\n    onUpdate(tabletopSystem, updatedTabletopSystem) {\n    \tclient({\n    \t\tmethod: 'PUT',\n    \t\tpath: tabletopSystem.entity._links.self.href,\n    \t\tentity: updatedTabletopSystem,\n    \t\theaders: {\n    \t\t\t'Content-Type': 'application/json',\n    \t\t\t'If-Match': tabletopSystem.headers.Etag\n    \t\t}\n    \t}).done(response => {\n    \t    /* Let the websocket handler update the state */\n//    \t\tthis.loadFromServer(this.state.pageSize);\n    \t}, response => {\n    \t\tif (response.status.code === 412) {\n    \t\t\talert('DENIED: Unable to update ' +\n    \t\t\t\ttabletopSystem.entity._links.self.href + '. Your copy is stale.');\n    \t\t}\n    \t});\n    }\n\n\tonDelete(tabletopSystem) {\n\t\tclient({method: 'DELETE', path: tabletopSystem.entity._links.self.href})/*.done(response => {\n\t\t\tthis.loadFromServer(this.state.pageSize);\n\t\t})*/;\n\t}\n\n\tonNavigate(navUri) {\n\t\tclient({\n\t\t\tmethod: 'GET',\n\t\t\tpath: navUri\n\t\t}).then(tabletopSystemCollection => {\n\t\t\tthis.links = tabletopSystemCollection.entity._links;\n\n\t\t\treturn tabletopSystemCollection.entity._embedded.tabletopSystems.map(tabletopSystem =>\n\t\t\t\t\tclient({\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tpath: tabletopSystem._links.self.href\n\t\t\t\t\t})\n\t\t\t);\n\t\t}).then(tabletopSystemPromises => {\n\t\t\treturn when.all(tabletopSystemPromises);\n\t\t}).done(tabletopSystems => {\n\t\t\tthis.setState({\n\t\t\t\ttabletopSystems: tabletopSystems,\n\t\t\t\tattributes: Object.keys(this.schema.properties),\n\t\t\t\tpageSize: this.state.pageSize,\n\t\t\t\tlinks: this.links\n\t\t\t});\n\t\t});\n\t}\n\n\tupdatePageSize(pageSize) {\n\t\tif (pageSize !== this.state.pageSize) {\n\t\t\tthis.loadFromServer(pageSize);\n\t\t}\n\t}\n\n    refreshAndGoToLastPage(message) {\n    \tfollow(client, root, [{\n    \t\trel: 'tabletopSystems',\n    \t\tparams: {size: this.state.pageSize}\n    \t}]).done(response => {\n    \t\tif (response.entity._links.last !== undefined) {\n    \t\t\tthis.onNavigate(response.entity._links.last.href);\n    \t\t} else {\n    \t\t\tthis.onNavigate(response.entity._links.self.href);\n    \t\t}\n    \t})\n    }\n\n    refreshCurrentPage(message) {\n    \tfollow(client, root, [{\n    \t\trel: 'tabletopSystems',\n    \t\tparams: {\n    \t\t\tsize: this.state.pageSize,\n    \t\t\tpage: this.state.page.number\n    \t\t}\n    \t}]).then(tabletopSystemCollection => {\n    \t\tthis.links = tabletopSystemCollection.entity._links;\n    \t\tthis.page = tabletopSystemCollection.entity.page;\n\n    \t\treturn tabletopSystemCollection.entity._embedded.tabletopSystems.map(tabletopSystem => {\n    \t\t\treturn client({\n    \t\t\t\tmethod: 'GET',\n    \t\t\t\tpath: tabletopSystem._links.self.href\n    \t\t\t})\n    \t\t});\n    \t}).then(tabletopSystemPromises => {\n    \t\treturn when.all(tabletopSystemPromises);\n    \t}).then(tabletopSystems => {\n    \t\tthis.setState({\n    \t\t\tpage: this.page,\n    \t\t\ttabletopSystems: tabletopSystems,\n    \t\t\tattributes: Object.keys(this.schema.properties),\n    \t\t\tpageSize: this.state.pageSize,\n    \t\t\tlinks: this.links\n    \t\t});\n    \t});\n    }\n\n\tcomponentDidMount() {\n\t    this.loadFromServer(this.state.pageSize);\n        stompClient.register([\n            {route: '/topic/newTabletopSystem', callback: this.refreshAndGoToLastPage},\n            {route: '/topic/updateTabletopSystem', callback: this.refreshCurrentPage},\n            {route: '/topic/deleteTabletopSystem', callback: this.refreshCurrentPage}\n        ]);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<header className=\"App-header\">\n\t\t\t\t<CreateDialog attributes={this.state.attributes} onCreate={this.onCreate}/>\n\t\t\t\t<TabletopSystemList tabletopSystems={this.state.tabletopSystems}\n\t\t\t\t\t\t\t  links={this.state.links}\n\t\t\t\t\t\t\t  pageSize={this.state.pageSize}\n\t\t\t\t\t\t\t  attributes={this.state.attributes}\n\t\t\t\t\t\t\t  onNavigate={this.onNavigate}\n\t\t\t\t\t\t\t  onUpdate={this.onUpdate}\n\t\t\t\t\t\t\t  onDelete={this.onDelete}\n\t\t\t\t\t\t\t  updatePageSize={this.updatePageSize}/>\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass CreateDialog extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst newTabletopSystem = {};\n\t\tthis.props.attributes.forEach(attribute => {\n\t\t\tnewTabletopSystem[attribute] = ReactDOM.findDOMNode(this.refs[attribute]).value.trim();\n\t\t});\n\t\tthis.props.onCreate(newTabletopSystem);\n\n\t\t// clear out the dialog's inputs\n\t\tthis.props.attributes.forEach(attribute => {\n\t\t\tReactDOM.findDOMNode(this.refs[attribute]).value = '';\n\t\t});\n\n\t\t// Navigate away from the dialog to hide it.\n\t\twindow.location = \"#\";\n\t}\n\n\trender() {\n\t\tconst inputs = this.props.attributes.map(attribute =>\n\t\t\t<p key={attribute}>\n\t\t\t\t<input type=\"text\" placeholder={attribute} ref={attribute} className=\"field\"/>\n\t\t\t</p>\n\t\t);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<a href=\"#createTabletopSystem\">Create</a>\n\n\t\t\t\t<div id=\"createTabletopSystem\" className=\"modalDialog\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a href=\"#\" title=\"Close\" className=\"close\">X</a>\n\n\t\t\t\t\t\t<h2>Create new tabletop system</h2>\n\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t{inputs}\n\t\t\t\t\t\t\t<button onClick={this.handleSubmit}>Create</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass UpdateDialog extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst updatedTabletopSystem = {};\n\t\tthis.props.attributes.forEach(attribute => {\n\t\t\tupdatedTabletopSystem[attribute] = ReactDOM.findDOMNode(this.refs[attribute]).value.trim();\n\t\t});\n\t\tthis.props.onUpdate(this.props.tabletopSystem, updatedTabletopSystem);\n\t\twindow.location = \"#\";\n\t}\n\n\trender() {\n\t\tconst inputs = this.props.attributes.map(attribute =>\n\t\t\t<p key={this.props.tabletopSystem.entity[attribute]}>\n\t\t\t\t<input type=\"text\" placeholder={attribute}\n\t\t\t\t\t   defaultValue={this.props.tabletopSystem.entity[attribute]}\n\t\t\t\t\t   ref={attribute} className=\"field\"/>\n\t\t\t</p>\n\t\t);\n\n\t\tconst dialogId = \"updateTabletopSystem-\" + this.props.tabletopSystem.entity._links.self.href;\n\n\t\treturn (\n\t\t\t<div key={this.props.tabletopSystem.entity._links.self.href}>\n\t\t\t\t<a href={\"#\" + dialogId}>Update</a>\n\t\t\t\t<div id={dialogId} className=\"modalDialog\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a href=\"#\" title=\"Close\" className=\"close\">X</a>\n\n\t\t\t\t\t\t<h2>Update a tabletop system</h2>\n\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t{inputs}\n\t\t\t\t\t\t\t<button onClick={this.handleSubmit}>Update</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n};\n\nclass TabletopSystemList extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleNavFirst = this.handleNavFirst.bind(this);\n\t\tthis.handleNavPrev = this.handleNavPrev.bind(this);\n\t\tthis.handleNavNext = this.handleNavNext.bind(this);\n\t\tthis.handleNavLast = this.handleNavLast.bind(this);\n\t\tthis.handleInput = this.handleInput.bind(this);\n\t}\n\n\thandleInput(e) {\n\t\te.preventDefault();\n\t\tconst pageSize = ReactDOM.findDOMNode(this.refs.pageSize).value;\n\t\tif (/^[0-9]+$/.test(pageSize)) {\n\t\t\tthis.props.updatePageSize(pageSize);\n\t\t} else {\n\t\t\tReactDOM.findDOMNode(this.refs.pageSize).value =\n\t\t\t\tpageSize.substring(0, pageSize.length - 1);\n\t\t}\n\t}\n\n\thandleNavFirst(e){\n\t\te.preventDefault();\n\t\tthis.props.onNavigate(this.props.links.first.href);\n\t}\n\n\thandleNavPrev(e) {\n\t\te.preventDefault();\n\t\tthis.props.onNavigate(this.props.links.prev.href);\n\t}\n\n\thandleNavNext(e) {\n\t\te.preventDefault();\n\t\tthis.props.onNavigate(this.props.links.next.href);\n\t}\n\n\thandleNavLast(e) {\n\t\te.preventDefault();\n\t\tthis.props.onNavigate(this.props.links.last.href);\n\t}\n\n\trender() {\n//\t    const pageInfo = this.props.page.hasOwnProperty(\"number\") ?\n//        \t\t\t<h3>Tabletop Systems - Page {this.props.page.number + 1} of {this.props.page.totalPages}</h3> : null;\n\n\t\tconst tabletopSystems = this.props.tabletopSystems.map(tabletopSystem =>\n\t\t\t<TabletopSystem key={tabletopSystem.entity._links.self.href}\n\t\t\t    tabletopSystem={tabletopSystem}\n\t\t\t    attributes={this.props.attributes}\n\t\t\t\tonUpdate={this.props.onUpdate}\n\t\t\t    onDelete={this.props.onDelete}/>\n\t\t);\n\n\t\tconst navLinks = [];\n\t\tif (\"first\" in this.props.links) {\n\t\t\tnavLinks.push(<button key=\"first\" onClick={this.handleNavFirst}>&lt;&lt;</button>);\n\t\t}\n\t\tif (\"prev\" in this.props.links) {\n\t\t\tnavLinks.push(<button key=\"prev\" onClick={this.handleNavPrev}>&lt;</button>);\n\t\t}\n\t\tif (\"next\" in this.props.links) {\n\t\t\tnavLinks.push(<button key=\"next\" onClick={this.handleNavNext}>&gt;</button>);\n\t\t}\n\t\tif (\"last\" in this.props.links) {\n\t\t\tnavLinks.push(<button key=\"last\" onClick={this.handleNavLast}>&gt;&gt;</button>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<input ref=\"pageSize\" defaultValue={this.props.pageSize} onInput={this.handleInput}/>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{tabletopSystems}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<div>\n\t\t\t\t\t{navLinks}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass TabletopSystem extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleDelete = this.handleDelete.bind(this);\n\t}\n\n\thandleDelete() {\n\t\tthis.props.onDelete(this.props.tabletopSystem);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<td>{this.props.tabletopSystem.entity.name}</td>\n\t\t\t\t<td>{this.props.tabletopSystem.entity.description}</td>\n\t\t\t\t<td>\n                    <UpdateDialog tabletopSystem={this.props.tabletopSystem}\n                                  attributes={this.props.attributes}\n                                  onUpdate={this.props.onUpdate}/>\n                </td>\n\t\t\t\t<td>\n\t\t\t\t\t<button onClick={this.handleDelete}>Delete</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t)\n\t}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}